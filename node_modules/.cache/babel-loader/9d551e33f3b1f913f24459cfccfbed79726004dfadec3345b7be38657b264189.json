{"ast":null,"code":"import axios from 'axios';\n\n/**\n * Base API Service class with common functionality\n */\nclass BaseApiService {\n  constructor() {\n    this.defaultTimeout = 30000; // Increased timeout\n    this.defaultHeaders = {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    };\n    this.maxRetries = 3;\n    this.retryDelay = 2000; // 2 seconds between retries\n  }\n\n  /**\n   * Make HTTP GET request with error handling\n   * @param {string} url - API endpoint URL\n   * @param {object} options - Request options\n   * @returns {Promise} Response data\n   */\n  async get(url, options = {}) {\n    try {\n      const config = {\n        timeout: options.timeout || this.defaultTimeout,\n        headers: {\n          ...this.defaultHeaders,\n          ...options.headers\n        },\n        ...options\n      };\n      const response = await axios.get(url, config);\n      return response.data;\n    } catch (error) {\n      this.handleError(error, url);\n      throw error;\n    }\n  }\n\n  /**\n   * Handle API errors consistently\n   * @param {Error} error - The error object\n   * @param {string} url - The URL that failed\n   */\n  handleError(error, url) {\n    if (error.response) {\n      console.error(`API Error (${error.response.status}):`, error.response.data);\n    } else if (error.request) {\n      console.error('Network Error:', error.message);\n    } else {\n      console.error('Request Error:', error.message);\n    }\n    console.error(`Failed URL: ${url}`);\n  }\n\n  /**\n   * Format date to ISO string\n   * @param {Date|string} date - Date to format\n   * @returns {string} ISO date string\n   */\n  formatDate(date) {\n    return new Date(date).toISOString().split('T')[0];\n  }\n\n  /**\n   * Add days to a date\n   * @param {Date|string} date - Base date\n   * @param {number} days - Number of days to add\n   * @returns {Date} New date\n   */\n  addDays(date, days) {\n    const result = new Date(date);\n    result.setDate(result.getDate() + days);\n    return result;\n  }\n\n  /**\n   * Check if coordinates are valid\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @returns {boolean} True if valid\n   */\n  isValidCoordinates(lat, lon) {\n    return typeof lat === 'number' && typeof lon === 'number' && lat >= -90 && lat <= 90 && lon >= -180 && lon <= 180;\n  }\n}\nexport default BaseApiService;","map":{"version":3,"names":["axios","BaseApiService","constructor","defaultTimeout","defaultHeaders","maxRetries","retryDelay","get","url","options","config","timeout","headers","response","data","error","handleError","console","status","request","message","formatDate","date","Date","toISOString","split","addDays","days","result","setDate","getDate","isValidCoordinates","lat","lon"],"sources":["C:/xampp/htdocs/errors/src/services/api/baseApiService.js"],"sourcesContent":["import axios from 'axios';\n\n/**\n * Base API Service class with common functionality\n */\nclass BaseApiService {\n  constructor() {\n    this.defaultTimeout = 30000; // Increased timeout\n    this.defaultHeaders = {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    };\n    this.maxRetries = 3;\n    this.retryDelay = 2000; // 2 seconds between retries\n  }\n\n  /**\n   * Make HTTP GET request with error handling\n   * @param {string} url - API endpoint URL\n   * @param {object} options - Request options\n   * @returns {Promise} Response data\n   */\n  async get(url, options = {}) {\n    try {\n      const config = {\n        timeout: options.timeout || this.defaultTimeout,\n        headers: { ...this.defaultHeaders, ...options.headers },\n        ...options\n      };\n\n      const response = await axios.get(url, config);\n      return response.data;\n    } catch (error) {\n      this.handleError(error, url);\n      throw error;\n    }\n  }\n\n  /**\n   * Handle API errors consistently\n   * @param {Error} error - The error object\n   * @param {string} url - The URL that failed\n   */\n  handleError(error, url) {\n    if (error.response) {\n      console.error(`API Error (${error.response.status}):`, error.response.data);\n    } else if (error.request) {\n      console.error('Network Error:', error.message);\n    } else {\n      console.error('Request Error:', error.message);\n    }\n    console.error(`Failed URL: ${url}`);\n  }\n\n  /**\n   * Format date to ISO string\n   * @param {Date|string} date - Date to format\n   * @returns {string} ISO date string\n   */\n  formatDate(date) {\n    return new Date(date).toISOString().split('T')[0];\n  }\n\n  /**\n   * Add days to a date\n   * @param {Date|string} date - Base date\n   * @param {number} days - Number of days to add\n   * @returns {Date} New date\n   */\n  addDays(date, days) {\n    const result = new Date(date);\n    result.setDate(result.getDate() + days);\n    return result;\n  }\n\n  /**\n   * Check if coordinates are valid\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @returns {boolean} True if valid\n   */\n  isValidCoordinates(lat, lon) {\n    return (\n      typeof lat === 'number' && \n      typeof lon === 'number' &&\n      lat >= -90 && lat <= 90 &&\n      lon >= -180 && lon <= 180\n    );\n  }\n}\n\nexport default BaseApiService;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA,MAAMC,cAAc,CAAC;EACnBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,cAAc,GAAG,KAAK,CAAC,CAAC;IAC7B,IAAI,CAACC,cAAc,GAAG;MACpB,QAAQ,EAAE,kBAAkB;MAC5B,cAAc,EAAE;IAClB,CAAC;IACD,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,UAAU,GAAG,IAAI,CAAC,CAAC;EAC1B;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMC,GAAGA,CAACC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;IAC3B,IAAI;MACF,MAAMC,MAAM,GAAG;QACbC,OAAO,EAAEF,OAAO,CAACE,OAAO,IAAI,IAAI,CAACR,cAAc;QAC/CS,OAAO,EAAE;UAAE,GAAG,IAAI,CAACR,cAAc;UAAE,GAAGK,OAAO,CAACG;QAAQ,CAAC;QACvD,GAAGH;MACL,CAAC;MAED,MAAMI,QAAQ,GAAG,MAAMb,KAAK,CAACO,GAAG,CAACC,GAAG,EAAEE,MAAM,CAAC;MAC7C,OAAOG,QAAQ,CAACC,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,IAAI,CAACC,WAAW,CAACD,KAAK,EAAEP,GAAG,CAAC;MAC5B,MAAMO,KAAK;IACb;EACF;;EAEA;AACF;AACA;AACA;AACA;EACEC,WAAWA,CAACD,KAAK,EAAEP,GAAG,EAAE;IACtB,IAAIO,KAAK,CAACF,QAAQ,EAAE;MAClBI,OAAO,CAACF,KAAK,CAAC,cAAcA,KAAK,CAACF,QAAQ,CAACK,MAAM,IAAI,EAAEH,KAAK,CAACF,QAAQ,CAACC,IAAI,CAAC;IAC7E,CAAC,MAAM,IAAIC,KAAK,CAACI,OAAO,EAAE;MACxBF,OAAO,CAACF,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACK,OAAO,CAAC;IAChD,CAAC,MAAM;MACLH,OAAO,CAACF,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACK,OAAO,CAAC;IAChD;IACAH,OAAO,CAACF,KAAK,CAAC,eAAeP,GAAG,EAAE,CAAC;EACrC;;EAEA;AACF;AACA;AACA;AACA;EACEa,UAAUA,CAACC,IAAI,EAAE;IACf,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACnD;;EAEA;AACF;AACA;AACA;AACA;AACA;EACEC,OAAOA,CAACJ,IAAI,EAAEK,IAAI,EAAE;IAClB,MAAMC,MAAM,GAAG,IAAIL,IAAI,CAACD,IAAI,CAAC;IAC7BM,MAAM,CAACC,OAAO,CAACD,MAAM,CAACE,OAAO,CAAC,CAAC,GAAGH,IAAI,CAAC;IACvC,OAAOC,MAAM;EACf;;EAEA;AACF;AACA;AACA;AACA;AACA;EACEG,kBAAkBA,CAACC,GAAG,EAAEC,GAAG,EAAE;IAC3B,OACE,OAAOD,GAAG,KAAK,QAAQ,IACvB,OAAOC,GAAG,KAAK,QAAQ,IACvBD,GAAG,IAAI,CAAC,EAAE,IAAIA,GAAG,IAAI,EAAE,IACvBC,GAAG,IAAI,CAAC,GAAG,IAAIA,GAAG,IAAI,GAAG;EAE7B;AACF;AAEA,eAAehC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}