{"ast":null,"code":"import BaseApiService from './baseApiService.js';\n\n/**\n * Meteomatics Weather API Service\n * Handles professional weather data integration\n */\nclass MeteomaticsService extends BaseApiService {\n  constructor() {\n    super();\n    this.baseUrl = 'https://api.meteomatics.com';\n    this.username = 'narvasa_darryljohn';\n    this.password = '20XN1825ylysfXl8jSXx';\n    this.auth = Buffer.from(`${this.username}:${this.password}`).toString('base64');\n\n    // Set default headers for all requests\n    this.defaultHeaders = {\n      ...this.defaultHeaders,\n      'Authorization': `Basic ${this.auth}`,\n      'Accept': 'application/json'\n    };\n  }\n\n  /**\n   * Fetch historical weather data from Meteomatics API\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {string} targetDate - Target date for analysis\n   * @returns {Promise} Weather data or fallback simulation\n   */\n  async fetchWeatherData(lat, lon, targetDate) {\n    try {\n      // Format the date correctly for the API\n      const formattedDate = new Date(targetDate).toISOString().split('.')[0] + 'Z';\n\n      // Define the weather parameters we want to retrieve\n      const parameters = ['t_2m:C',\n      // Temperature at 2m in Celsius\n      'precip_1h:mm',\n      // Precipitation in mm/hour\n      'wind_speed_10m:ms',\n      // Wind speed at 10m in m/s\n      'relative_humidity_2m:p' // Relative humidity at 2m in percent\n      ].join(',');\n\n      // Construct the API endpoint\n      const endpoint = `${formattedDate}/${parameters}/${lat},${lon}/json`;\n      try {\n        const response = await this.get(endpoint);\n        return this.formatWeatherResponse(response);\n      } catch (apiError) {\n        var _apiError$response, _apiError$response2;\n        console.error('Meteomatics API error:', apiError);\n        if (((_apiError$response = apiError.response) === null || _apiError$response === void 0 ? void 0 : _apiError$response.status) === 401) {\n          throw new Error('Authentication failed. Please check your API credentials.');\n        } else if (((_apiError$response2 = apiError.response) === null || _apiError$response2 === void 0 ? void 0 : _apiError$response2.status) === 429) {\n          throw new Error('Rate limit exceeded. Please try again later.');\n        }\n        // If API call fails, fall back to simulation\n        console.warn('Falling back to simulated data');\n        return this.generateEnhancedWeatherData(lat, lon, targetDate);\n      }\n    } catch (error) {\n      console.error('Error fetching weather data:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Fetch current weather conditions\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @returns {Promise} Current weather data\n   */\n  async fetchCurrentWeather(lat, lon) {\n    try {\n      // In production, this would make actual API calls\n      // For now, simulate current weather based on location and date\n      const now = new Date();\n      const hour = now.getHours();\n\n      // Simulate more realistic current conditions based on time of day\n      const timeOfDay = hour >= 6 && hour <= 18 ? 'day' : 'night';\n      const seasonIndex = Math.floor(now.getMonth() / 3); // 0: winter, 1: spring, 2: summer, 3: fall\n\n      // Base temperature on season and time of day\n      const baseTemp = this.getSeasonalBaseTemperature(seasonIndex);\n      const tempVariation = timeOfDay === 'day' ? 5 : -2;\n      return {\n        temperature: baseTemp + tempVariation + (Math.random() * 4 - 2),\n        // Add some randomness\n        humidity: 50 + Math.random() * 30,\n        windSpeed: 5 + Math.random() * 10,\n        precipitation: Math.random() > 0.7 ? Math.random() * 5 : 0,\n        timestamp: now.toISOString()\n      };\n    } catch (error) {\n      console.error('Error fetching current weather:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get base temperature for seasonal simulation\n   * @param {number} seasonIndex - 0: winter, 1: spring, 2: summer, 3: fall\n   * @returns {number} Base temperature\n   */\n  getSeasonalBaseTemperature(seasonIndex) {\n    const seasonTemps = {\n      0: 5,\n      // winter\n      1: 15,\n      // spring\n      2: 25,\n      // summer\n      3: 15 // fall\n    };\n    return seasonTemps[seasonIndex] || 15;\n  }\n\n  /**\n   * Format the API response into a consistent structure\n   * @param {Object} response - Raw API response\n   * @returns {Object} Formatted weather data\n   */\n  formatWeatherResponse(response) {\n    try {\n      if (!response.data || !Array.isArray(response.data)) {\n        throw new Error('Invalid API response format');\n      }\n      const formattedData = {\n        temperature: null,\n        precipitation: null,\n        windSpeed: null,\n        humidity: null,\n        timestamp: new Date().toISOString()\n      };\n      response.data.forEach(param => {\n        if (!param.coordinates || !param.coordinates[0] || !param.coordinates[0].dates) {\n          return;\n        }\n        const value = param.coordinates[0].dates[0].value;\n        switch (param.parameter) {\n          case 't_2m:C':\n            formattedData.temperature = value;\n            break;\n          case 'precip_1h:mm':\n            formattedData.precipitation = value;\n            break;\n          case 'wind_speed_10m:ms':\n            formattedData.windSpeed = value;\n            break;\n          case 'relative_humidity_2m:p':\n            formattedData.humidity = value;\n            break;\n        }\n      });\n\n      // Check if we got all the data we need\n      if (Object.values(formattedData).some(v => v === null)) {\n        throw new Error('Incomplete weather data received');\n      }\n      return formattedData;\n    } catch (error) {\n      console.error('Error formatting weather response:', error);\n      throw new Error('Failed to process weather data');\n    }\n  }\n\n  /**\n   * Generate enhanced weather simulation based on location and climate patterns\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {string} targetDate - Target date\n   * @returns {Object} Enhanced weather data simulation\n   */\n  generateEnhancedWeatherData(lat, lon, targetDate) {\n    if (!this.isValidCoordinates(lat, lon)) {\n      throw new Error('Invalid coordinates provided');\n    }\n\n    // Enhanced simulation with location-based climate patterns\n    const isPhilippines = lat >= 4.5 && lat <= 21.5 && lon >= 116 && lon <= 127;\n    const isTropical = Math.abs(lat) < 23.5;\n    const isNorthernHemisphere = lat > 0;\n    const targetMonth = new Date(targetDate).getMonth() + 1;\n    const targetDay = new Date(targetDate).getDate();\n\n    // Generate realistic daily records based on location\n    const dailyRecords = this.generateDailyRecords(lat, lon, targetMonth, targetDay, isPhilippines, isNorthernHemisphere);\n\n    // Generate monthly data with location intelligence\n    const monthlyData = this.generateMonthlyData(lat, lon, isPhilippines);\n    return {\n      daily: dailyRecords,\n      monthly: monthlyData,\n      metadata: {\n        location: {\n          lat,\n          lon\n        },\n        isPhilippines,\n        isTropical,\n        targetDate,\n        generatedAt: new Date().toISOString()\n      }\n    };\n  }\n\n  /**\n   * Generate daily weather records\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {number} targetMonth - Target month\n   * @param {number} targetDay - Target day\n   * @param {boolean} isPhilippines - Is location in Philippines\n   * @param {boolean} isNorthernHemisphere - Is in northern hemisphere\n   * @returns {Array} Daily weather records\n   */\n  generateDailyRecords(lat, lon, targetMonth, targetDay, isPhilippines, isNorthernHemisphere) {\n    const dailyRecords = [];\n    const currentYear = new Date().getFullYear();\n    for (let year = currentYear - 15; year < currentYear; year++) {\n      const baseTemp = this.getLocationBasedTemperature(lat, lon, targetMonth);\n      const seasonalVariation = Math.sin((targetMonth - 1) * Math.PI / 6) * (isNorthernHemisphere ? 1 : -1);\n      const record = {\n        year,\n        date: `${year}-${targetMonth.toString().padStart(2, '0')}-${targetDay.toString().padStart(2, '0')}`,\n        temperature: Math.round((baseTemp + seasonalVariation + (Math.random() - 0.5) * 8) * 10) / 10,\n        temperatureMax: Math.round((baseTemp + seasonalVariation + 5 + Math.random() * 5) * 10) / 10,\n        temperatureMin: Math.round((baseTemp + seasonalVariation - 5 - Math.random() * 3) * 10) / 10,\n        precipitation: this.getLocationBasedPrecipitation(lat, lon, targetMonth),\n        windSpeed: Math.round((5 + Math.random() * 15) * 10) / 10,\n        humidity: Math.round((60 + Math.random() * 30) * 10) / 10\n      };\n      dailyRecords.push(record);\n    }\n    return dailyRecords;\n  }\n\n  /**\n   * Generate monthly weather data\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {boolean} isPhilippines - Is location in Philippines\n   * @returns {Array} Monthly weather data\n   */\n  generateMonthlyData(lat, lon, isPhilippines) {\n    const monthlyData = [];\n    for (let month = 1; month <= 12; month++) {\n      const monthName = new Date(2000, month - 1, 1).toLocaleString('default', {\n        month: 'short'\n      });\n      const baseTemp = this.getLocationBasedTemperature(lat, lon, month);\n      const basePrecip = this.getLocationBasedPrecipitation(lat, lon, month);\n      monthlyData.push({\n        month: monthName,\n        temperature: Math.round(baseTemp * 10) / 10,\n        rainfall: Math.round(basePrecip * 10) / 10,\n        windSpeed: Math.round((8 + Math.random() * 6) * 10) / 10\n      });\n    }\n    return monthlyData;\n  }\n\n  /**\n   * Get location-based temperature patterns\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {number} month - Month (1-12)\n   * @returns {number} Base temperature for location and month\n   */\n  getLocationBasedTemperature(lat, lon, month) {\n    // Philippines-specific temperature patterns\n    if (lat >= 4.5 && lat <= 21.5 && lon >= 116 && lon <= 127) {\n      const baseTemp = 27; // Philippines average\n      const seasonalVariation = Math.sin((month - 1) * Math.PI / 6) * 2; // Mild seasonal variation\n      return baseTemp + seasonalVariation;\n    }\n\n    // General latitude-based temperature\n    const latitudeFactor = Math.cos(lat * Math.PI / 180);\n    const baseTemp = 15 + latitudeFactor * 20;\n    const seasonalVariation = Math.sin((month - 1) * Math.PI / 6) * (lat > 0 ? 1 : -1) * 15;\n    return baseTemp + seasonalVariation;\n  }\n\n  /**\n   * Get location-based precipitation patterns\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {number} month - Month (1-12)\n   * @returns {number} Precipitation amount for location and month\n   */\n  getLocationBasedPrecipitation(lat, lon, month) {\n    // Philippines monsoon patterns\n    if (lat >= 4.5 && lat <= 21.5 && lon >= 116 && lon <= 127) {\n      // Wet season (June-November), Dry season (December-May)\n      const isWetSeason = month >= 6 && month <= 11;\n      return isWetSeason ? 15 + Math.random() * 25 : 2 + Math.random() * 8;\n    }\n\n    // General precipitation patterns\n    const tropicalFactor = Math.max(0, 1 - Math.abs(lat) / 30);\n    const basePrecip = 5 + tropicalFactor * 15;\n    const seasonalVariation = Math.sin((month - 1) * Math.PI / 6) * 10;\n    return Math.max(0, basePrecip + seasonalVariation + Math.random() * 10);\n  }\n\n  /**\n   * Validate Meteomatics API credentials\n   * @returns {boolean} True if credentials are valid\n   */\n  validateCredentials() {\n    return !!(this.username && this.password && this.auth);\n  }\n\n  /**\n   * Get API status information\n   * @returns {Object} API status and configuration\n   */\n  getApiStatus() {\n    return {\n      service: 'Meteomatics Weather API',\n      hasCredentials: this.validateCredentials(),\n      username: this.username,\n      baseUrl: this.baseUrl,\n      corsBlocked: true,\n      // Direct browser access blocked\n      recommendation: 'Use backend proxy for production'\n    };\n  }\n}\nexport default MeteomaticsService;","map":{"version":3,"names":["BaseApiService","MeteomaticsService","constructor","baseUrl","username","password","auth","Buffer","from","toString","defaultHeaders","fetchWeatherData","lat","lon","targetDate","formattedDate","Date","toISOString","split","parameters","join","endpoint","response","get","formatWeatherResponse","apiError","_apiError$response","_apiError$response2","console","error","status","Error","warn","generateEnhancedWeatherData","fetchCurrentWeather","now","hour","getHours","timeOfDay","seasonIndex","Math","floor","getMonth","baseTemp","getSeasonalBaseTemperature","tempVariation","temperature","random","humidity","windSpeed","precipitation","timestamp","seasonTemps","data","Array","isArray","formattedData","forEach","param","coordinates","dates","value","parameter","Object","values","some","v","isValidCoordinates","isPhilippines","isTropical","abs","isNorthernHemisphere","targetMonth","targetDay","getDate","dailyRecords","generateDailyRecords","monthlyData","generateMonthlyData","daily","monthly","metadata","location","generatedAt","currentYear","getFullYear","year","getLocationBasedTemperature","seasonalVariation","sin","PI","record","date","padStart","round","temperatureMax","temperatureMin","getLocationBasedPrecipitation","push","month","monthName","toLocaleString","basePrecip","rainfall","latitudeFactor","cos","isWetSeason","tropicalFactor","max","validateCredentials","getApiStatus","service","hasCredentials","corsBlocked","recommendation"],"sources":["C:/xampp/htdocs/errors/src/services/api/meteomaticsService.js"],"sourcesContent":["import BaseApiService from './baseApiService.js';\n\n/**\n * Meteomatics Weather API Service\n * Handles professional weather data integration\n */\nclass MeteomaticsService extends BaseApiService {\n  constructor() {\n    super();\n    this.baseUrl = 'https://api.meteomatics.com';\n    this.username = 'narvasa_darryljohn';\n    this.password = '20XN1825ylysfXl8jSXx';\n    this.auth = Buffer.from(`${this.username}:${this.password}`).toString('base64');\n    \n    // Set default headers for all requests\n    this.defaultHeaders = {\n      ...this.defaultHeaders,\n      'Authorization': `Basic ${this.auth}`,\n      'Accept': 'application/json'\n    };\n  }\n\n  /**\n   * Fetch historical weather data from Meteomatics API\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {string} targetDate - Target date for analysis\n   * @returns {Promise} Weather data or fallback simulation\n   */\n  async fetchWeatherData(lat, lon, targetDate) {\n    try {\n      // Format the date correctly for the API\n      const formattedDate = new Date(targetDate).toISOString().split('.')[0] + 'Z';\n      \n      // Define the weather parameters we want to retrieve\n      const parameters = [\n        't_2m:C',        // Temperature at 2m in Celsius\n        'precip_1h:mm',  // Precipitation in mm/hour\n        'wind_speed_10m:ms', // Wind speed at 10m in m/s\n        'relative_humidity_2m:p' // Relative humidity at 2m in percent\n      ].join(',');\n\n      // Construct the API endpoint\n      const endpoint = `${formattedDate}/${parameters}/${lat},${lon}/json`;\n      \n      try {\n        const response = await this.get(endpoint);\n        return this.formatWeatherResponse(response);\n      } catch (apiError) {\n        console.error('Meteomatics API error:', apiError);\n        if (apiError.response?.status === 401) {\n          throw new Error('Authentication failed. Please check your API credentials.');\n        } else if (apiError.response?.status === 429) {\n          throw new Error('Rate limit exceeded. Please try again later.');\n        }\n        // If API call fails, fall back to simulation\n        console.warn('Falling back to simulated data');\n        return this.generateEnhancedWeatherData(lat, lon, targetDate);\n      }\n    } catch (error) {\n      console.error('Error fetching weather data:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Fetch current weather conditions\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @returns {Promise} Current weather data\n   */\n  async fetchCurrentWeather(lat, lon) {\n    try {\n      // In production, this would make actual API calls\n      // For now, simulate current weather based on location and date\n      const now = new Date();\n      const hour = now.getHours();\n      \n      // Simulate more realistic current conditions based on time of day\n      const timeOfDay = hour >= 6 && hour <= 18 ? 'day' : 'night';\n      const seasonIndex = Math.floor(now.getMonth() / 3); // 0: winter, 1: spring, 2: summer, 3: fall\n      \n      // Base temperature on season and time of day\n      const baseTemp = this.getSeasonalBaseTemperature(seasonIndex);\n      const tempVariation = timeOfDay === 'day' ? 5 : -2;\n      \n      return {\n        temperature: baseTemp + tempVariation + (Math.random() * 4 - 2), // Add some randomness\n        humidity: 50 + (Math.random() * 30),\n        windSpeed: 5 + (Math.random() * 10),\n        precipitation: Math.random() > 0.7 ? Math.random() * 5 : 0,\n        timestamp: now.toISOString()\n      };\n    } catch (error) {\n      console.error('Error fetching current weather:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get base temperature for seasonal simulation\n   * @param {number} seasonIndex - 0: winter, 1: spring, 2: summer, 3: fall\n   * @returns {number} Base temperature\n   */\n  getSeasonalBaseTemperature(seasonIndex) {\n    const seasonTemps = {\n      0: 5,  // winter\n      1: 15, // spring\n      2: 25, // summer\n      3: 15  // fall\n    };\n    return seasonTemps[seasonIndex] || 15;\n  }\n\n  /**\n   * Format the API response into a consistent structure\n   * @param {Object} response - Raw API response\n   * @returns {Object} Formatted weather data\n   */\n  formatWeatherResponse(response) {\n    try {\n      if (!response.data || !Array.isArray(response.data)) {\n        throw new Error('Invalid API response format');\n      }\n\n      const formattedData = {\n        temperature: null,\n        precipitation: null,\n        windSpeed: null,\n        humidity: null,\n        timestamp: new Date().toISOString()\n      };\n\n      response.data.forEach(param => {\n        if (!param.coordinates || !param.coordinates[0] || !param.coordinates[0].dates) {\n          return;\n        }\n\n        const value = param.coordinates[0].dates[0].value;\n        switch (param.parameter) {\n          case 't_2m:C':\n            formattedData.temperature = value;\n            break;\n          case 'precip_1h:mm':\n            formattedData.precipitation = value;\n            break;\n          case 'wind_speed_10m:ms':\n            formattedData.windSpeed = value;\n            break;\n          case 'relative_humidity_2m:p':\n            formattedData.humidity = value;\n            break;\n        }\n      });\n\n      // Check if we got all the data we need\n      if (Object.values(formattedData).some(v => v === null)) {\n        throw new Error('Incomplete weather data received');\n      }\n\n      return formattedData;\n    } catch (error) {\n      console.error('Error formatting weather response:', error);\n      throw new Error('Failed to process weather data');\n    }\n  }\n\n  /**\n   * Generate enhanced weather simulation based on location and climate patterns\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {string} targetDate - Target date\n   * @returns {Object} Enhanced weather data simulation\n   */\n  generateEnhancedWeatherData(lat, lon, targetDate) {\n    if (!this.isValidCoordinates(lat, lon)) {\n      throw new Error('Invalid coordinates provided');\n    }\n\n    // Enhanced simulation with location-based climate patterns\n    const isPhilippines = (lat >= 4.5 && lat <= 21.5 && lon >= 116 && lon <= 127);\n    const isTropical = Math.abs(lat) < 23.5;\n    const isNorthernHemisphere = lat > 0;\n    \n    const targetMonth = new Date(targetDate).getMonth() + 1;\n    const targetDay = new Date(targetDate).getDate();\n    \n    // Generate realistic daily records based on location\n    const dailyRecords = this.generateDailyRecords(lat, lon, targetMonth, targetDay, isPhilippines, isNorthernHemisphere);\n    \n    // Generate monthly data with location intelligence\n    const monthlyData = this.generateMonthlyData(lat, lon, isPhilippines);\n\n    return {\n      daily: dailyRecords,\n      monthly: monthlyData,\n      metadata: {\n        location: { lat, lon },\n        isPhilippines,\n        isTropical,\n        targetDate,\n        generatedAt: new Date().toISOString()\n      }\n    };\n  }\n\n  /**\n   * Generate daily weather records\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {number} targetMonth - Target month\n   * @param {number} targetDay - Target day\n   * @param {boolean} isPhilippines - Is location in Philippines\n   * @param {boolean} isNorthernHemisphere - Is in northern hemisphere\n   * @returns {Array} Daily weather records\n   */\n  generateDailyRecords(lat, lon, targetMonth, targetDay, isPhilippines, isNorthernHemisphere) {\n    const dailyRecords = [];\n    const currentYear = new Date().getFullYear();\n    \n    for (let year = currentYear - 15; year < currentYear; year++) {\n      const baseTemp = this.getLocationBasedTemperature(lat, lon, targetMonth);\n      const seasonalVariation = Math.sin((targetMonth - 1) * Math.PI / 6) * (isNorthernHemisphere ? 1 : -1);\n      \n      const record = {\n        year,\n        date: `${year}-${targetMonth.toString().padStart(2, '0')}-${targetDay.toString().padStart(2, '0')}`,\n        temperature: Math.round((baseTemp + seasonalVariation + (Math.random() - 0.5) * 8) * 10) / 10,\n        temperatureMax: Math.round((baseTemp + seasonalVariation + 5 + Math.random() * 5) * 10) / 10,\n        temperatureMin: Math.round((baseTemp + seasonalVariation - 5 - Math.random() * 3) * 10) / 10,\n        precipitation: this.getLocationBasedPrecipitation(lat, lon, targetMonth),\n        windSpeed: Math.round((5 + Math.random() * 15) * 10) / 10,\n        humidity: Math.round((60 + Math.random() * 30) * 10) / 10\n      };\n      \n      dailyRecords.push(record);\n    }\n    \n    return dailyRecords;\n  }\n\n  /**\n   * Generate monthly weather data\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {boolean} isPhilippines - Is location in Philippines\n   * @returns {Array} Monthly weather data\n   */\n  generateMonthlyData(lat, lon, isPhilippines) {\n    const monthlyData = [];\n    \n    for (let month = 1; month <= 12; month++) {\n      const monthName = new Date(2000, month - 1, 1).toLocaleString('default', { month: 'short' });\n      const baseTemp = this.getLocationBasedTemperature(lat, lon, month);\n      const basePrecip = this.getLocationBasedPrecipitation(lat, lon, month);\n      \n      monthlyData.push({\n        month: monthName,\n        temperature: Math.round(baseTemp * 10) / 10,\n        rainfall: Math.round(basePrecip * 10) / 10,\n        windSpeed: Math.round((8 + Math.random() * 6) * 10) / 10\n      });\n    }\n    \n    return monthlyData;\n  }\n\n  /**\n   * Get location-based temperature patterns\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {number} month - Month (1-12)\n   * @returns {number} Base temperature for location and month\n   */\n  getLocationBasedTemperature(lat, lon, month) {\n    // Philippines-specific temperature patterns\n    if (lat >= 4.5 && lat <= 21.5 && lon >= 116 && lon <= 127) {\n      const baseTemp = 27; // Philippines average\n      const seasonalVariation = Math.sin((month - 1) * Math.PI / 6) * 2; // Mild seasonal variation\n      return baseTemp + seasonalVariation;\n    }\n    \n    // General latitude-based temperature\n    const latitudeFactor = Math.cos(lat * Math.PI / 180);\n    const baseTemp = 15 + latitudeFactor * 20;\n    const seasonalVariation = Math.sin((month - 1) * Math.PI / 6) * (lat > 0 ? 1 : -1) * 15;\n    \n    return baseTemp + seasonalVariation;\n  }\n\n  /**\n   * Get location-based precipitation patterns\n   * @param {number} lat - Latitude\n   * @param {number} lon - Longitude\n   * @param {number} month - Month (1-12)\n   * @returns {number} Precipitation amount for location and month\n   */\n  getLocationBasedPrecipitation(lat, lon, month) {\n    // Philippines monsoon patterns\n    if (lat >= 4.5 && lat <= 21.5 && lon >= 116 && lon <= 127) {\n      // Wet season (June-November), Dry season (December-May)\n      const isWetSeason = month >= 6 && month <= 11;\n      return isWetSeason ? 15 + Math.random() * 25 : 2 + Math.random() * 8;\n    }\n    \n    // General precipitation patterns\n    const tropicalFactor = Math.max(0, 1 - Math.abs(lat) / 30);\n    const basePrecip = 5 + tropicalFactor * 15;\n    const seasonalVariation = Math.sin((month - 1) * Math.PI / 6) * 10;\n    \n    return Math.max(0, basePrecip + seasonalVariation + Math.random() * 10);\n  }\n\n  /**\n   * Validate Meteomatics API credentials\n   * @returns {boolean} True if credentials are valid\n   */\n  validateCredentials() {\n    return !!(this.username && this.password && this.auth);\n  }\n\n  /**\n   * Get API status information\n   * @returns {Object} API status and configuration\n   */\n  getApiStatus() {\n    return {\n      service: 'Meteomatics Weather API',\n      hasCredentials: this.validateCredentials(),\n      username: this.username,\n      baseUrl: this.baseUrl,\n      corsBlocked: true, // Direct browser access blocked\n      recommendation: 'Use backend proxy for production'\n    };\n  }\n}\n\nexport default MeteomaticsService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}